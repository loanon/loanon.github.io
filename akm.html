<html>

<head>
  <title>安康码助手</title>
  <script src="https://gw.alipayobjects.com/as/g/h5-lib/alipayjsapi/3.1.1/alipayjsapi.min.js"></script>
  <style>
    .output {
      display: block;
      max-width: 100%;
      overflow: auto
    }
  </style>
</head>

<body>
  <button id="J_btn_location" class="btn btn-default">获取当前位置信息</button>
  <pre id="J_output" class="output"></pre>
<button id="J_btn_scanQR" class="btn btn-default">扫一扫二维码</button>
<button id="J_btn_scanBAR" class="btn btn-default">扫一扫条形码</button>
<button id="J_btn_hs" class="btn btn-default">核酸检测报告</button>
</body>
<script>
  var btnLocation = document.querySelector('#J_btn_location');
  var output = document.querySelector('#J_output');
  btnLocation.addEventListener('click', function () {
    ap.getLocation(function (res) {
      output.innerHTML = JSON.stringify(res, undefined, '  ');
    });
  });
</script>

<script>
  var btnScanQR = document.querySelector('#J_btn_scanQR');
  var btnScanBAR = document.querySelector('#J_btn_scanBAR');
  btnScanQR.addEventListener('click', function(){
    ap.scan(function(res){
      ap.alert(res.code);
    });
  });
  btnScanBAR.addEventListener('click', function(){
    ap.scan({
      type: 'bar'
    }, function(res){
      ap.alert(res.code);
    });
  });
</script>
<script>
  var btnHS = document.querySelector('#J_btn_hs');
  btnHS.addEventListener('click', function(){
    window.location.href = "https://akm.ahzwfw.gov.cn/akm-hsjc/index.html#/nucleicAcidTestInfo"
  });
</script>
</html>
